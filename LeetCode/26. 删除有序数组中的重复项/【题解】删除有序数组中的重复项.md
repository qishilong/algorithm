# [26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹](https://leetcode.cn/problems/remove-duplicates-from-sorted-array/)

éš¾åº¦ç®€å•

ç»™ä½ ä¸€ä¸ª **å‡åºæ’åˆ—** çš„æ•°ç»„ `nums` ï¼Œè¯·ä½ **[ åŸåœ°](http://baike.baidu.com/item/åŸåœ°ç®—æ³•)** åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  **åªå‡ºç°ä¸€æ¬¡** ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚å…ƒç´ çš„ **ç›¸å¯¹é¡ºåº** åº”è¯¥ä¿æŒ **ä¸€è‡´** ã€‚ç„¶åè¿”å› `nums` ä¸­å”¯ä¸€å…ƒç´ çš„ä¸ªæ•°ã€‚

è€ƒè™‘ `nums` çš„å”¯ä¸€å…ƒç´ çš„æ•°é‡ä¸º `k` ï¼Œä½ éœ€è¦åšä»¥ä¸‹äº‹æƒ…ç¡®ä¿ä½ çš„é¢˜è§£å¯ä»¥è¢«é€šè¿‡ï¼š

-   æ›´æ”¹æ•°ç»„ `nums` ï¼Œä½¿ `nums` çš„å‰ `k` ä¸ªå…ƒç´ åŒ…å«å”¯ä¸€å…ƒç´ ï¼Œå¹¶æŒ‰ç…§å®ƒä»¬æœ€åˆåœ¨ `nums` ä¸­å‡ºç°çš„é¡ºåºæ’åˆ—ã€‚`nums` çš„å…¶ä½™å…ƒç´ ä¸ `nums` çš„å¤§å°ä¸é‡è¦ã€‚
-   è¿”å› `k` ã€‚

**åˆ¤é¢˜æ ‡å‡†:**

ç³»ç»Ÿä¼šç”¨ä¸‹é¢çš„ä»£ç æ¥æµ‹è¯•ä½ çš„é¢˜è§£:

```
int[] nums = [...]; // è¾“å…¥æ•°ç»„
int[] expectedNums = [...]; // é•¿åº¦æ­£ç¡®çš„æœŸæœ›ç­”æ¡ˆ

int k = removeDuplicates(nums); // è°ƒç”¨

assert k == expectedNums.length;
for (int i = 0; i < k; i++) {
    assert nums[i] == expectedNums[i];
}
```

å¦‚æœæ‰€æœ‰æ–­è¨€éƒ½é€šè¿‡ï¼Œé‚£ä¹ˆæ‚¨çš„é¢˜è§£å°†è¢« **é€šè¿‡**ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,2]
è¾“å‡ºï¼š2, nums = [1,2,_]
è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2 ï¼Œå¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0,0,1,1,1,2,2,3,3,4]
è¾“å‡ºï¼š5, nums = [0,1,2,3,4]
è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5 ï¼Œ å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

**æç¤ºï¼š**

-   `1 <= nums.length <= 3 * 104`
-   `-104 <= nums[i] <= 104`
-   `nums` å·²æŒ‰ **å‡åº** æ’åˆ—

## ä»£ç 

```ts
function removeDuplicates(nums: number[]): number {
    let i = 0;
    for(const num of nums){
        if(i< 1|| nums[i-1] !== num){
            nums[i] = num;
            i++
        }
    }
    return i;
};
```

# [80. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II](https://leetcode.cn/problems/remove-duplicates-from-sorted-array-ii/)

éš¾åº¦ä¸­ç­‰

ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ `nums` ï¼Œè¯·ä½ **[ åŸåœ°](http://baike.baidu.com/item/åŸåœ°ç®—æ³•)** åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸¤æ¬¡çš„å…ƒç´ **åªå‡ºç°ä¸¤æ¬¡** ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ **[åŸåœ° ](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)ä¿®æ”¹è¾“å…¥æ•°ç»„** å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

 

**è¯´æ˜ï¼š**

ä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢ï¼Ÿ

è¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥**ã€Œå¼•ç”¨ã€**æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚

ä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹:

```
// nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚åšä»»ä½•æ‹·è´
int len = removeDuplicates(nums);

// åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚
// æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­ è¯¥é•¿åº¦èŒƒå›´å†… çš„æ‰€æœ‰å…ƒç´ ã€‚
for (int i = 0; i < len; i++) {
    print(nums[i]);
}
```

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,1,2,2,3]
è¾“å‡ºï¼š5, nums = [1,1,2,2,3]
è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 5, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0,0,1,1,1,1,2,3,3]
è¾“å‡ºï¼š7, nums = [0,0,1,1,2,3,3]
è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 7, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 0, 1, 1, 2, 3, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

**æç¤ºï¼š**

-   `1 <= nums.length <= 3 * 104`
-   `-104 <= nums[i] <= 104`
-   `nums` å·²æŒ‰å‡åºæ’åˆ—

## ä»£ç 

```ts
function removeDuplicates(nums: number[]): number {
    let i = 0;
    for(const num of nums){
        if(i< 2|| nums[i-2] !== num){
            nums[i] = num;
            i++
        }
    }
    return i;
};
```

## é¢˜è§£

### [ã€ä¸¾ä¸€åäºŒã€‘ä½ çœŸçš„çœŸçš„å€¼å¾—å­¦ä¹ è¿™ç²¾ç®€çš„ä»£ç ï¼ï¼åŸºäºåŒæŒ‡é’ˆï¼Œè¶…è¶ŠåŒæŒ‡é’ˆï¼](https://leetcode.cn/problems/remove-duplicates-from-sorted-array-ii/solution/ju-yi-fan-er-ni-zhen-de-zhen-de-zhi-de-x-eicz/)



å‰è¨€
å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Three~

è¿™é“é¢˜æˆ‘åœ¨åŠä¸ªå¤šæœˆä¹‹å‰å†™è¿‡ï¼Œå½“æ—¶æœ‰çœ‹åˆ°ä¸€ä¸ªå¾ˆå·§å¦™çš„é¢˜è§£ï¼Œå› æ­¤æƒ³åœ¨è¿™é‡Œè·Ÿå¤§å®¶åˆ†äº«ã€‚åœ¨å‰äººçš„åŸºç¡€ä¸Šï¼Œæˆ‘åŠ äº†ä¸€äº›è‡ªå·±çš„çœ‹æ³•ã€‚

ä»Šå¤©æˆ‘ä»¬è¦æ¶‰åŠçš„é¢˜ç›®æ˜¯ï¼šåŠ›æ‰£80.åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ IIå’ŒåŠ›æ‰£26.åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ã€‚

æ€è·¯ä¸ä»£ç 
ç¬¬ä¸€é¢˜ï¼šåŠ›æ‰£80.åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II
æˆ‘ä»¬å…ˆä»ä»Šå¤©çš„é¢˜ç›®å¼€å§‹ã€‚

ä¸ºäº†å¼•å‡º â€œè¶…è¶Šä¸€èˆ¬åŒæŒ‡é’ˆâ€çš„æ–¹æ³• ï¼Œæˆ‘è¿˜æ˜¯éœ€è¦å…ˆä»‹ç»åŒæŒ‡é’ˆè§£æ³•ã€‚

è¯»å®Œé¢˜ç›®ä¹‹åï¼Œæˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ°ï¼šnumsæ•°ç»„æ˜¯æœ‰åºçš„ï¼è¿™æ„å‘³ç€ï¼šç›¸åŒå…ƒç´ å¿…ç„¶è¿ç»­ã€‚
æˆ‘ä»¬å¯ä»¥è®¾ç½®å¿«æ…¢ä¸¤ä¸ªæŒ‡é’ˆï¼šfastå’Œslowï¼Œè¿ç”¨forå¾ªç¯è¿›è¡Œéå†ï¼Œåˆ¤æ–­å“ªäº›å…ƒç´ åº”è¯¥ä¿ç•™ï¼Œå“ªäº›åº”è¯¥å‰”é™¤ã€‚
å…·ä½“è€Œè¨€ï¼ŒslowæŒ‡é’ˆè¡¨ç¤ºå¤„ç†å‡ºçš„æ•°ç»„çš„é•¿åº¦ï¼ŒfastæŒ‡é’ˆè¡¨ç¤ºå·²ç»æ£€æŸ¥è¿‡çš„æ•°ç»„çš„é•¿åº¦ã€‚å³nums[fast]è¡¨ç¤ºå¾…æ£€æŸ¥çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œnums[slow âˆ’ 1]ä¸ºä¸Šä¸€ä¸ªåº”è¯¥è¢«ä¿ç•™çš„å…ƒç´ æ‰€ç§»åŠ¨åˆ°çš„æŒ‡å®šä½ç½®ã€‚
å› ä¸ºæœ¬é¢˜è¦æ±‚ç›¸åŒå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ£€æŸ¥ä¸Šä¸Šä¸ªåº”è¯¥è¢«ä¿ç•™çš„å…ƒç´ nums[slow âˆ’ 2]æ˜¯å¦å’Œå½“å‰å¾…æ£€æŸ¥å…ƒç´ nums[fast]ç›¸åŒã€‚å½“ä¸”ä»…å½“nums[slow âˆ’ 2] == nums[fast]æ—¶ï¼Œå½“å‰å¾…æ£€æŸ¥å…ƒç´ nums[fast]ä¸åº”è¯¥è¢«ä¿ç•™ï¼ˆå› ä¸ºæ­¤æ—¶å¿…ç„¶æœ‰nums[slow âˆ’ 2] == nums[slow âˆ’ 1] == nums[fast]ï¼‰ã€‚
æœ€åï¼Œslowå³ä¸ºå¤„ç†å¥½çš„æ•°ç»„çš„é•¿åº¦ã€‚
ç‰¹åˆ«åœ°ï¼Œæ•°ç»„çš„å‰ä¸¤ä¸ªæ•°å¿…ç„¶å¯ä»¥è¢«ä¿ç•™ï¼Œå› æ­¤å¯¹äºé•¿åº¦ä¸è¶…è¿‡2çš„æ•°ç»„ï¼Œæˆ‘ä»¬æ— éœ€è¿›è¡Œä»»ä½•å¤„ç†ï¼Œå¯¹äºé•¿åº¦è¶…è¿‡2çš„æ•°ç»„ï¼Œæˆ‘ä»¬ç›´æ¥å°†åŒæŒ‡é’ˆçš„åˆå§‹å€¼è®¾ä¸º2å³å¯ã€‚
ï¼ˆä¸Šé¢çš„å†…å®¹æ‘˜è‡ªå®˜æ–¹é¢˜è§£ï¼Œå› ä¸ºæ™®é€šåŒæŒ‡é’ˆçš„å†…å®¹æ²¡ä»€ä¹ˆå¥½è®²çš„ã€‚ï¼‰

ä¸Šé¢çš„å†…å®¹æ¯”è¾ƒæŠ½è±¡ï¼Œä½†æ˜¯ç»“åˆä¸‹é¢çš„ä»£ç ï¼Œä¼šå¾ˆè±ç„¶å¼€æœ—ï¼š


class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int n = nums.size();
        if (n <= 2) { // ç‰¹æ®Šåˆ¤æ–­ï¼Œå¦‚æœnumsé•¿åº¦å°äº2ï¼Œç›´æ¥è¾“å‡ºé•¿åº¦nå³å¯
            return n;
        }
        int slow = 2, fast = 2; // å› ä¸ºä¸Šé¢å·²ç»åšè¿‡ç‰¹æ®Šåˆ¤åˆ«ï¼Œæ‰€ä»¥è¿™é‡Œå¿«æ…¢æŒ‡é’ˆä»2å¼€å§‹
        while (fast < n) {
            if (nums[slow - 2] != nums[fast]) { // å› ä¸ºé¢˜ç›®è¦æ±‚æœ€å¤šä¸¤ä¸ªæ•°ç›¸åŒï¼Œæ‰€ä»¥è¿™ä¹ˆåˆ¤æ–­
            // å¦‚æœnums[slow - 2] == nums[fast]ï¼Œä»£è¡¨å·²ç»æœ‰ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼Œæ­¤æ—¶nums[fast]
            // å¯¹åº”çš„æ•°å€¼ä¸èƒ½æ”¾è¿›ç»“æœä¹‹ä¸­ã€‚åä¹‹ï¼Œå¦‚æœnums[slow - 2] != nums[fast]ï¼Œ
            // é‚£ä¹ˆnums[fast]å¯ä»¥æ”¾è¿›nums[slow]ä¸­ï¼Œå¹¶ä¸”slow++ï¼Œè®°å½•ç»“æœçš„é•¿åº¦ã€‚
                nums[slow] = nums[fast]; 
                slow++;
            }
            fast++; // ä¸ç®¡æ€ä¹ˆæ ·ï¼Œå¿«æŒ‡é’ˆéƒ½æ˜¯è¦å‘å‰éå†å„ä¸ªå…ƒç´ çš„
        }
        return slow; // è¿”å›ç»“æœçš„é•¿åº¦ï¼Œå³slow
    }
};
ä¸Šé¢çš„ä»£ç ä¹Ÿæ˜¯å‚è€ƒå®˜æ–¹é¢˜è§£çš„ï¼Œæˆ‘åŠ ä¸Šäº†è¯¦ç»†æ³¨é‡Šï¼Œå¤§å®¶ç†è§£èµ·æ¥ä¼šæ›´èˆ’æœäº›ã€‚

ç›¸ä¿¡ç»“åˆä¸Šé¢çš„ä»£ç å’Œæ€è·¯è®²è§£ï¼Œå¤§å®¶å¯¹äºä¸€èˆ¬çš„åŒæŒ‡é’ˆæ³•åº”è¯¥å·²ç»æ˜ç™½äº†ã€‚æˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥åšç‚¹æœ‰æ„æ€çš„äº‹æƒ…ã€‚

åŸºäºä¸Šé¢æ˜¾å¼çš„åŒæŒ‡é’ˆæ³•ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æŠ½è±¡ç®€åŒ–ã€‚

é¦–å…ˆåº”è¯¥è€ƒè™‘ï¼Œæˆ‘ä»¬ä½¿ç”¨åŒæŒ‡é’ˆçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿå…¶å®æ˜¯æ–¹ä¾¿æŒ‡å‘æˆ‘ä»¬è¦ä½¿ç”¨çš„æ•°å­—ã€‚æ‰€ä»¥æŒ‡é’ˆå¯¹åº”çš„æ•°å€¼æ‰æ˜¯ä¸»è§’ã€‚

åœ¨ä¸‹é¢çš„é¢˜è§£ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡å°‘ä½¿ç”¨æŒ‡é’ˆï¼Œè®©æ•°å€¼è‡ªå·±å‡ºæ¥æ¯”è¾ƒï¼š

è”æƒ³åˆ°C++çš„forå¾ªç¯è¯­æ³•ï¼šfor (int num : nums)ï¼Œå¯ä»¥è®©numè‡ªèº«å½“å³æŒ‡é’ˆï¼›
å¯ä»¥å†ä»¤ä¸€ä¸ªiä»£è¡¨å·¦æŒ‡é’ˆã€‚
ç»“åˆä¸Šé¢çš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸‹é¢çš„ä»£ç ï¼š

ä»£ç 


class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int i = 0; // å·¦æŒ‡é’ˆåˆå§‹åŒ–
        for (int num : nums) { // numå½“å³æŒ‡é’ˆ
            if (i < 2 || nums[i - 2] < num) { // i < 2æ˜¯ç‰¹æ®Šåˆ¤æ–­ï¼Œnums[i - 2] < num
            // æ˜¯å› ä¸ºé¢˜ç›®è¦æ±‚ç›¸åŒå…ƒç´ ä¸èƒ½è¶…è¿‡ä¸¤ä¸ªã€‚ä¹‹æ‰€ä»¥å¯ä»¥ç”¨å°äºå·åˆ¤æ–­ï¼Œæ˜¯å› ä¸ºæ•°ç»„æ˜¯æœ‰åºçš„
                nums[i] = num; // ç›¸å½“äºä¸Šé¢å®˜æ–¹è§£æ³•çš„nums[slow] = nums[fast];
                i++; // ç›¸å½“äºä¸Šé¢å®˜æ–¹è§£æ³•çš„slow++;ï¼Œå³å·¦æŒ‡é’ˆç§»åŠ¨
            }
        }
        return i; // è¾“å‡ºé•¿åº¦ï¼Œå³ç›¸å½“äºä¸Šé¢é¢˜è§£çš„slow
    }
};
ä»£ç æ˜¯ä¸æ˜¯ç²¾ç®€äº†å¾ˆå¤šï¼Ÿ

æœ‰ä¸¤ç‚¹æˆ‘å†è¯´ä¸€ä¸‹ï¼š

for (int num : nums)æ˜¯è®©å˜é‡numä»å·¦åˆ°å³éå†ä¸€énumsä¸­æ‰€æœ‰æ•°å€¼çš„æ„æ€ï¼›
æŠŠnums[i] = num; i++;æ”¹æˆnums[i++] = num;ä¼šæ›´ç²¾ç®€ï¼Œä½†æˆ‘ç›¸ä¿¡æœ‰äº›æœ‹å‹è¿˜å¼„ä¸æ¸…æ¥ši++å’Œ++içš„ä¸€äº›æ“ä½œï¼Œæ‰€ä»¥æˆ‘åˆ†å¼€å†™äº†ã€‚ä¸è¿‡ä¹‹å‰ä¸æ¸…æ¥šçš„æœ‹å‹ä»¬ï¼Œè¿™æ¬¡ä½ ä»¬è¦å­¦ä¼šå’¯ï¼
è¿è¡Œç»“æœ



æ•ˆæœå¾ˆå¥½~

å¦‚æœä»Šå¤©çš„é¢˜è§£åˆ°æ­¤ä¸ºæ­¢ï¼Œé‚£å°±å·®ç‚¹æ„æ€ã€‚

ç¬¬äºŒé¢˜ï¼šåŠ›æ‰£26.åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹
é¢˜ç›®ï¼š

ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„numsï¼Œè¯·ä½ åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚
ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨O(1)é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

ç¤ºä¾‹ï¼š

è¾“å…¥ï¼šnums = [1,1,2]
è¾“å‡ºï¼š2, nums = [1,2]
è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2 ï¼Œå¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚

æˆ‘ä»¬å‘ç°ï¼Œè·Ÿä»Šå¤©çš„é¢˜ç›®ç›¸æ¯”ï¼Œè¿™é“é¢˜è¢«ä¿®æ”¹ä¸ºæ¯ä¸ªå…ƒç´ åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚åŸºäºä¸Šé¢çš„ç¬¬äºŒä¸ªæ€è·¯ï¼Œæˆ‘ä»¬æ€ä¹ˆæ ·æœ€å¿«åœ°æ±‚è§£ï¼Ÿ

ä»£ç 


class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int i = 0;
        for (int num : nums) {
            if (i < 1 || nums[i - 1] < num) nums[i++] = num;
        }
        return i;
    }
};
ç®€å•æ¥è¯´ï¼ŒæŠŠä¹‹å‰çš„if (i < 2 || nums[i - 2] < num)æ”¹æˆif (i < 1 || nums[i - 1] < num)å°±å¥½äº†ï¼

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€ä¸ªå¾ˆæœ‰æ„ä¹‰çš„æ‹“å±•ï¼šå¦‚æœæ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°Kæ¬¡ï¼Œä½ è¦æ€ä¹ˆä¿®æ”¹ä¸Šé¢çš„ä»£ç ï¼Ÿ

å¾ˆç®€å•ï¼ŒæŠŠif (i < 1 || nums[i - 1] < num)æ”¹æˆif (i < k || nums[i - k] < num)å°±å¥½äº†ï¼

å­¦ä¼šäº†è¿™ä¸€æ‹›ï¼Œä»¥åé‡åˆ°è¿™ç§é¢˜ç›®å°±å†ä¹Ÿä¸æ€•äº†~è¿™ä¹Ÿæ˜¯è¿™ç±»é¢˜ç›®çš„é€šè§£ã€‚

ï¼ˆè¿™éƒ¨åˆ†æ‹“å±•å†…å®¹çš„æ·»åŠ è¦ç‰¹åˆ«é¸£è°¢@ç©ºåŸå°‘å¹´ç¬›å¡å°”ï¼‰

è¿è¡Œç»“æœ



æ•ˆæœä¹Ÿéå¸¸å¥½~

è‡³æ­¤ï¼Œæˆ‘ä»¬ä»Šå¤©çš„ä¸¤é“é¢˜å°±ç»“æŸäº†ã€‚

å°ç»“
æˆ‘ä»¬ä»Šå¤©é¦–å…ˆå­¦ä¹ äº†ä¸€èˆ¬çš„åŒæŒ‡é’ˆè§£æ³•ï¼Œæ¥ç€ï¼Œæˆ‘ä»¬å¯¹äºä¸€èˆ¬æ–¹æ³•è¿›è¡Œæç‚¼ï¼ŒæŠ½è±¡å‡ºè¶…è¶Šä¸€èˆ¬åŒæŒ‡é’ˆçš„è§£æ³•ï¼Œç®€æ´ä¸”é«˜æ•ˆï¼è¿™ç§æŠ“ä½é—®é¢˜æœ¬è´¨å¹¶åŠ ä»¥æŠ½è±¡çš„æ€æƒ³ï¼Œæ˜¯å€¼å¾—å­¦ä¹ çš„ã€‚ï¼ˆæ˜¯ä¸æ˜¯æ„Ÿè§‰æ•´ä¸ªè¿‡ç¨‹æŒºmagicçš„~ï¼‰

ç¢ç¢å¿µ
ä¸€äº›æ¯”è¾ƒç»å¸¸çœ‹åˆ°æˆ‘çš„é¢˜è§£çš„æœ‹å‹ï¼Œå¯èƒ½ä¼šçœ‹åˆ°ã€å‡»åŒã€‘ï¼ˆå…¶å®å°±æ˜¯ä¸¾ä¸€åäºŒï¼‰å’Œã€ä¸¾ä¸€åä¸‰ã€‘çš„å­—æ ·ã€‚è¿™æ˜¯æˆ‘æ­£åœ¨æ•´ç†çš„ä¸œè¥¿ï¼Œæˆ‘å¸Œæœ›å¤§å®¶åœ¨2000å¤šé“åŠ›æ‰£ä¸­å¯ä»¥æ‰¾åˆ°å…¶ä¸­çš„å…³è”ï¼Œç„¶åæ›´æœ‰æ•ˆåœ°åˆ·é¢˜ã€‚

æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘!

ï¼ˆå› ä¸ºæœ‰å­¦æ ¡çš„äº‹æƒ…å’Œæˆ‘è‡ªå·±æ‰ç–å­¦æµ…ï¼Œæ‰€ä»¥æ²¡åŠæ³•ä¿è¯æ—¥æ—¥å‘å¸ƒé¢˜è§£ï¼Œè¿˜è¯·å…³æ³¨æˆ‘çš„åŒå­¦è§è°…~~ï¼‰

ç»“å°¾
å¦‚æœä½ è§‰å¾—æˆ‘å†™å¾—è¿˜è¡Œï¼Œæ¬¢è¿_å…³æ³¨æˆ‘_æˆ–è€…_æ”¶è—æˆ‘çš„é¢˜è§£_æˆ–è€…_ç»™æˆ‘çš„é¢˜è§£ç‚¹èµ_ã€‚æˆ‘åç»­è¿˜ä¼šæŒç»­å†™é¢˜è§£ï¼›
æˆ‘ä»¬ä¸‹æ¬¡å†è§~~

### [ã€å®«æ°´ä¸‰å¶ã€‘å…³äºã€Œåˆ é™¤æœ‰åºæ•°ç»„é‡å¤é¡¹ã€çš„é€šè§£](https://leetcode.cn/problems/remove-duplicates-from-sorted-array-ii/solution/gong-shui-san-xie-guan-yu-shan-chu-you-x-glnq/)

é€šç”¨è§£æ³•
ä¸ºäº†è®©è§£æ³•æ›´å…·æœ‰ä¸€èˆ¬æ€§ï¼Œæˆ‘ä»¬å°†åŸé—®é¢˜çš„ã€Œä¿ç•™ 2 ä½ã€ä¿®æ”¹ä¸ºã€Œä¿ç•™ k ä½ã€ã€‚

å¯¹äºæ­¤ç±»é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥è¿›è¡Œå¦‚ä¸‹è€ƒè™‘ï¼š

ç”±äºæ˜¯ä¿ç•™ k ä¸ªç›¸åŒæ•°å­—ï¼Œå¯¹äºå‰ k ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¿ç•™
å¯¹äºåé¢çš„ä»»æ„æ•°å­—ï¼Œèƒ½å¤Ÿä¿ç•™çš„å‰ææ˜¯ï¼šä¸å½“å‰å†™å…¥çš„ä½ç½®å‰é¢çš„ç¬¬ k ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œä¸ç›¸åŒåˆ™ä¿ç•™
ä¸¾ä¸ªğŸŒ°ï¼Œæˆ‘ä»¬ä»¤ k=2ï¼Œå‡è®¾æœ‰å¦‚ä¸‹æ ·ä¾‹

[1,1,1,1,1,1,2,2,2,2,2,2,3]

é¦–å…ˆæˆ‘ä»¬å…ˆè®©å‰ 2 ä½ç›´æ¥ä¿ç•™ï¼Œå¾—åˆ° 1,1
å¯¹åé¢çš„æ¯ä¸€ä½è¿›è¡Œç»§ç»­éå†ï¼Œèƒ½å¤Ÿä¿ç•™çš„å‰ææ˜¯ä¸å½“å‰ä½ç½®çš„å‰é¢ k ä¸ªå…ƒç´ ä¸åŒï¼ˆç­”æ¡ˆä¸­çš„ç¬¬ä¸€ä¸ª 1ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬ä¼šè·³è¿‡å‰©ä½™çš„ 1ï¼Œå°†ç¬¬ä¸€ä¸ª 2 è¿½åŠ ï¼Œå¾—åˆ° 1,1,2
ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œè¿™æ—¶å€™æ˜¯å’Œç­”æ¡ˆä¸­çš„ç¬¬ 2 ä¸ª 1 è¿›è¡Œå¯¹æ¯”ï¼Œå› æ­¤å¯ä»¥å¾—åˆ° 1,1,2,2
è¿™æ—¶å€™å’Œç­”æ¡ˆä¸­çš„ç¬¬ 1 ä¸ª 2 æ¯”è¾ƒï¼Œåªæœ‰ä¸å…¶ä¸åŒçš„å…ƒç´ èƒ½è¿½åŠ åˆ°ç­”æ¡ˆï¼Œå› æ­¤å‰©ä½™çš„ 2 è¢«è·³è¿‡ï¼Œ3 è¢«è¿½åŠ åˆ°ç­”æ¡ˆï¼š1,1,2,2,3
ä»£ç ï¼ˆæ„Ÿè°¢ @Qian ã€@å®«æ°´ä¸‰å¶çš„å°è¿·å¦¹ å’Œ @007 ä¸‰ä½åŒå­¦æä¾›çš„å…¶ä»–è¯­è¨€ç‰ˆæœ¬ï¼‰ï¼š

JavaC++Python3Golang

class Solution {
    public int removeDuplicates(int[] nums) {   
        return process(nums, 2);
    }
    int process(int[] nums, int k) {
        int u = 0; 
        for (int x : nums) {
            if (u < k || nums[u - k] != x) nums[u++] = x;
        }
        return u;
    }
}
æ—¶é—´å¤æ‚åº¦ï¼šO(n)
ç©ºé—´å¤æ‚åº¦ï¼šO(1)
å…¶ä»–
è¿™æ˜¯ä¸€ç§é’ˆå¯¹ã€Œæ•°æ®æœ‰åºï¼Œç›¸åŒå…ƒç´ ä¿ç•™ k ä½ã€é—®é¢˜æ›´åŠ æœ¬è´¨çš„è§£æ³•ï¼Œè¯¥è§£æ³•æ˜¯ä»æ€§è´¨å‡ºå‘æç‚¼çš„ï¼Œåˆ©ç”¨äº†ã€Œæ•°ç»„æœ‰åº & ä¿ç•™é€»è¾‘ã€ä¸¤å¤§ä¸»è¦æ€§è´¨ã€‚

å½“ä½ æŒæ¡è¿™ç§é€šè§£ä¹‹åï¼Œè¦è§£å†³ 26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ ï¼Œåªéœ€è¦æ”¹ä¸Šè¿°ä»£ç ä¸€ä¸ªæ•°å­—å³å¯ï¼ˆå°†ç›¸åŒæ•°å­—ä¿ç•™ 2 ä¸ªä¿®æ”¹ä¸ºä¿ç•™ 1 ä¸ªï¼‰ã€‚

è¿™ç§é€šè§£æœ€æ—©æˆ‘ä¹Ÿåœ¨ ã€å®«æ°´ä¸‰å¶ã€‘ã€ŒåŒæŒ‡é’ˆã€&ã€Œé€šç”¨ã€è§£æ³• è®²è¿‡ã€‚

# å…³äºã€Œåˆ é™¤æœ‰åºæ•°ç»„é‡å¤é¡¹ã€çš„é€šè§£

```ts
// ä¿ç•™ k é¡¹ï¼Œåªéœ€è¦æŠŠ if(i< 1|| nums[i-1] !== num) è¿™ä¸ªæ¡ä»¶æ”¹æˆ if(i< k|| nums[i-k] !== num) å³å¯
function removeDuplicates(nums: number[]): number {
    let i = 0;
    for(const num of nums){
        if(i< 1|| nums[i-1] !== num){
            nums[i] = num;
            i++
        }
    }
    return i;
};
```

æ—¶é—´å¤æ‚åº¦: O(n)

ç©ºé—´å¤æ‚åº¦: O(1)